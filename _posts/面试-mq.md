mq设计

基本需求

- 实现通讯 发送和接收，nio ->序列化
- 实现消息存储的需求（持久化，非持久化）（数据库，文件（磁盘），内存）
- 是否支持跨语言
- 消息确认（确认机制）
- 集群

高级需求

- 消息是否支持有序
- 是否支持事务消息
- 是否支持高并发和大数据的存储
- 是否支持多协议



mq场景

- 异步通信
- 系统解耦
- 流量削峰

缺点

- 系统可用性降低了
- 系统增加了复杂度



mq

1，生产者认为消费失败

- 重发机制 （手动机制）

2，消费是否消费

- 记录接收标识

3，是否重复接收

- 幂等性（唯一id）（数据库主键，唯一索引）





消费作用与使用场景







rocketmq

oneway 不需要回调























